@domainName = 7efu6sfwnc.execute-api.ap-northeast-1.amazonaws.com
@customDomainName = nanaphoto.sandbox.uxbrew.jp
@accessToken = {{login.response.body.$.accessToken}}
# @accessToken = eyJraWQiOiI5RHpLaWV1NEhuY0JqS0pxU25NRnIycmZcL0h0SURPQWU5ckF3Z0hTMmh0ST0iLCJhbGciOiJSUzI1NiJ9.eyJvcmlnaW5fanRpIjoiN2Y2OGYyOGYtNjJhZS00NDAwLWJhOGQtZGZkNDUyNzliNWMwIiwic3ViIjoiMDdmNDNhNTgtMzAxMS03MDY0LWNiNTQtYWY4NzQ1OGVhZmUzIiwiYXVkIjoiMzVpZWQ4NG9na2FoNm9sZzM3Z3IzYnMzdmwiLCJldmVudF9pZCI6ImY0MGU4ZTU4LTY2NWEtNGQ2Mi1iODQ3LTcwOTFlZjc1ZDYyZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzU1NjkyODQ3LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuYXAtbm9ydGhlYXN0LTEuYW1hem9uYXdzLmNvbVwvYXAtbm9ydGhlYXN0LTFfUkx0WnBKMDZoIiwiY29nbml0bzp1c2VybmFtZSI6InRlc3R1c2VyMSIsImV4cCI6MTc1NTY5NjQ0NywiaWF0IjoxNzU1NjkyODQ3LCJqdGkiOiJkOTRlMWY3Yi0yZGQ2LTQ0YzAtYWY0Zi1iMTMzOWYwMjEyY2MifQ.Sna24kZWNNRKLLRWJACjWX3nHJDkqckXy1rOUy08TF6-xPM5P58sl9odTP1zLZJypz6zN6djT2N2jkQ1iJssHDN0qWvASPnflnlh5wj2ZxgYgqUHP5Xg7DwCzLPha54oFX2eU7jChdb1cf3eFf-RdTp8yapg1Xm8bBqjI1dhpUAo_WQV4U3OAPGSMDTLIlCjZBZnAP31hwRufuD0NEaSpj3W-KVVCqo6idPNnYhRhhtBOMWIIO9wBL1nDitRuX-joUoMfuGMty5z1t0eOQC0fICoT5eSuqk52d_3rXtpqmOYQbxKt1YBLTGFM7rnD_sW766kKWMXMomMwO6Y8VTx2g
@facilityCode = 00001

### Nanapocke 認証受け口 : 保護者
# @no-redirect
GET https://{{customDomainName}}/auth/nanapocke?code=Gtest01 HTTP/1.1

### リフレッシュトークンでログイン
# @name login
POST https://{{customDomainName}}/api/auth/refresh HTTP/1.1
content-type: application/json

### アルバム一覧取得
GET https://{{customDomainName}}/api/facility/{{facilityCode}}/album/list HTTP/1.1
content-type: application/json
Authorization: Bearer {{accessToken}}

### 設定
@albumId = 7735dd24-f38c-47b7-a95e-00284b3f1345

### 写真一覧：保護者向け
GET https://{{customDomainName}}/api/facility/{{facilityCode}}/album/{{albumId}}/photo/list HTTP/1.1
Authorization: Bearer {{accessToken}}


### 設定
@photoId = 1d2ec0c3-71a7-4706-bb0b-5f009b8dae1d

### カートに写真追加
POST https://{{customDomainName}}/api/my/cart HTTP/1.1
content-type: application/json
Authorization: Bearer {{accessToken}}

{
  "albumId": "{{albumId}}",
  "photoId": "{{photoId}}"
}

### カート内写真一覧：保護者指定
GET https://{{customDomainName}}/api/my/cart/list HTTP/1.1
Authorization: Bearer {{accessToken}}

### カート内写真削除：保護者指定
DELETE https://{{customDomainName}}/api/my/cart/item/{{albumId}}/{{photoId}} HTTP/1.1
Authorization: Bearer {{accessToken}}

### カート内写真枚数変更：保護者指定
PUT https://{{customDomainName}}/api/my/cart HTTP/1.1
content-type: application/json
Authorization: Bearer {{accessToken}}

{"items":
  [
    {
      "albumId": "{{albumId}}",
      "photoId": "{{photoId}}",
      "print": [
        {
          "size": "printl",
          "quantity": 1
        },
        {
          "size": "print2l",
          "quantity": 2
        }
      ],
      "download": [
        {
          "size": "dl",
          "selected": true
        }
      ]
    },
    {
      "albumId": "{{albumId}}",
      "photoId": "1533c165-96e0-4986-b60e-a0ec44aa05a0",
      "print": [
        {
          "size": "printl",
          "quantity": 1
        },
        {
          "size": "print2l",
          "quantity": 2
        }
      ],
      "download": [
        {
          "size": "dl",
          "selected": true
        }
      ]
    }
  ]
}

### カート内写真からチェックアウト情報を作成：保護者専用
POST https://{{customDomainName}}/api/my/cart/checkout HTTP/1.1
content-type: application/json
Authorization: Bearer {{accessToken}}

{
  "type": "SHIPPING",
  "address": {
    "name": "山田たろう",
    "postalCode": "1234567",
    "line": "東京都どっか",
    "phone": "01234567890"
  }
}

### 決済履歴一覧を取得：保護者専用
GET https://{{customDomainName}}/api/my/payment/list HTTP/1.1
content-type: application/json
Authorization: Bearer {{accessToken}}


###
@OrderID = DNP2-260201-1746-0000000018

### 決済履歴詳細を取得：保護者専用
GET https://{{customDomainName}}/api/my/payment/{{OrderID}} HTTP/1.1
content-type: application/json
Authorization: Bearer {{accessToken}}








